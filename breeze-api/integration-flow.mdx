---
title: 'Integration Flow'
description: 'Step-by-step guide for integrating Breeze API into your application'
---

<Info>This represents one possible implementation approach. Your implementation may vary based on specific requirements.</Info>

## Prerequisites

<Card title="Create Strategy & Get API Key" href="/customer-portal/create-strategy" icon="rocket">
  Before starting, create a strategy in the Customer Portal and get your API key.
</Card>

---

## Integration Flow

<Steps>
  <Step title="Fetch Supported Assets (Once)">
    Call `/strategy-info/{strategy_id}/` once on app initialization to get all supported assets for your strategy.

    ```bash
    GET /strategy-info/{strategy_id}/
    ```

    **Use this to:**
    - Build your asset selector/dropdown
    - Store the list of supported token mints
    - Know which assets users can deposit

    ```json
    {
      "strategy_id": "43620ba3-...",
      "strategy_name": "my-strategy",
      "assets": [
        "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
        "Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",
        "So11111111111111111111111111111111111111112"
      ],
      "apy": 4.29,
      "apy_per_asset": { ... }
    }
    ```

    <Tip>Cache this response - the supported assets rarely change.</Tip>
  </Step>

  <Step title="Fetch APY Data (Periodically)">
    Use the same `/strategy-info/{strategy_id}/` endpoint to display current APY rates.

    ```bash
    GET /strategy-info/{strategy_id}/
    ```

    **Use this to:**
    - Display overall strategy APY
    - Show per-asset APY rates
    - Update APY display periodically (e.g., every few minutes)

    ```json
    {
      "apy": 4.29,
      "apy_per_asset": {
        "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v": 5.66,
        "Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB": 2.46,
        "So11111111111111111111111111111111111111112": 2.78
      }
    }
    ```
  </Step>

  <Step title="Fetch User Balances">
    When a user connects their wallet, fetch their Breeze balances using `/breeze-balances/{user_pubkey}`.

    ```bash
    GET /breeze-balances/{user_pubkey}?strategy_id={strategy_id}
    ```

    **Use this to:**
    - Show user's deposited amounts per asset
    - Display total position value
    - Show earned yield per asset

    <Note>Call this endpoint whenever you need to refresh balance data (after transactions, on page load, etc.)</Note>
  </Step>

  <Step title="Deposit Funds">
    When a user wants to deposit, generate a transaction using `/deposit/tx`.

    ```bash
    POST /deposit/tx
    ```

    ```json
    {
      "params": {
        "strategy_id": "your-strategy-id",
        "base_asset": "token-mint-address",
        "amount": 1000000,
        "user_key": "user-wallet-pubkey",
        "payer_key": "user-wallet-pubkey"
      }
    }
    ```

    **Flow:**
    1. Generate transaction with `/deposit/tx`
    2. Deserialize the base64 response
    3. User signs with their wallet
    4. Submit to Solana network
    5. Refresh balances after confirmation
  </Step>

  <Step title="Withdraw Funds">
    When a user wants to withdraw, generate a transaction using `/withdraw/tx`.

    ```bash
    POST /withdraw/tx
    ```

    ```json
    {
      "params": {
        "strategy_id": "your-strategy-id",
        "base_asset": "token-mint-address",
        "amount": 1000000,
        "user_key": "user-wallet-pubkey",
        "payer_key": "user-wallet-pubkey"
      }
    }
    ```

    <Tip>Set `"all": true` in params to withdraw the entire balance for an asset.</Tip>
  </Step>
</Steps>

---

## Next Steps

<CardGroup cols={2}>
  <Card title="API Quickstart" icon="bolt" href="/breeze-api/breeze-api">
    See detailed API documentation with examples.
  </Card>
  <Card title="UI Components Example" icon="window" href="/Integration-Guide/breeze-ui-components-integration-example">
    Full code example with React components.
  </Card>
</CardGroup>
